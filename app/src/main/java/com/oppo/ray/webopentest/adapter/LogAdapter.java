package com.oppo.ray.webopentest.adapter;

import android.content.res.Resources;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.ViewGroup;

import com.oppo.ray.webopentest.R;
import com.oppo.ray.webopentest.autotest.ExecuteUrl;

import java.util.List;

/**
 * the adapter for logs
 */
public class LogAdapter extends RecyclerView.Adapter<LogViewHolder> {
    private List<ExecuteUrl> mLogs = null;

    public LogAdapter(List<ExecuteUrl> urls) {
        this.mLogs = urls;
    }

    @Override
    public LogViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        LogViewHolder viewHolder =
                new LogViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.log_item_view, null));
        return viewHolder;
    }

    @Override
    public void onBindViewHolder(LogViewHolder holder, int position) {
        Resources res = holder.logView.getContext().getResources();
        ExecuteUrl executeUrl = mLogs.get(position);
        String text = String.format(res.getString(R.string.log_item_text), executeUrl.mExecuteTimes, executeUrl.url);
        holder.logView.setText(text);
    }

    @Override
    public int getItemCount() {
        return mLogs.size();
    }
}
