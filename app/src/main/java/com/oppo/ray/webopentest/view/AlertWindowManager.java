package com.oppo.ray.webopentest.view;

import android.app.Activity;
import android.content.Context;
import android.view.View;

import com.oppo.ray.webopentest.R;
import com.oppo.ray.webopentest.utils.Views;

/**
 * 考虑截屏的时候隐藏
 */
public class AlertWindowManager {
    private static final String TAG = AlertWindowManager.class.getSimpleName();
    private static final boolean DEBUG = true;
    private View mContentView;
    private ICallback mCallback;
    private static AlertWindowManager sInstance;

    public static AlertWindowManager getInstance() {
        if (null == sInstance) {
            synchronized (AlertWindowManager.class) {
                if (null == sInstance) {
                    sInstance = new AlertWindowManager();
                }
            }
        }
        return sInstance;
    }

    private AlertWindowManager() {
    }

    public void show(Activity context) {
        if (null == mContentView) {
            initContentView(context);
        }

        Views.checkRemoveFromParent(mContentView);

    }

    private void initContentView(Context context) {
        mContentView = View.inflate(context, R.layout.alert_window, null);
        mContentView.findViewById(R.id.stop).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                if (null != mCallback) {
                    mCallback.onStopClicked();
                }
            }
        });
    }

    public void hide() {

    }

    public void onStop() {

    }

    public void onResume() {

    }

    public AlertWindowManager setCallback(ICallback mCallback) {
        this.mCallback = mCallback;
        return this;
    }

    public interface ICallback {
        void onStopClicked();
    }
}
